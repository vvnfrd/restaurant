# Проект "Ресторан История Вкуса"

Данный проект является сайтом, дающий возможность клиентам бронировать столы,
ознакамливаться с меню и с самим рестораном.

Теперь сайт можно проверить прямо сейчас!
-
Перейдите по ссылке http://45.12.114.104:8002/restaurant/users/

И авторизируйтесь observer@gmail.com:00000000

Данный сайт позволит сотрудникам стать эффективнее, поскольку
на сайте можно:

- Контролировать бронь клиентов
- Быстро узнавать имя клиента и способы связи с ним (в случае опоздания)
- Редактировать кол-во и характеристик столов (кол-во мест, вип статус, статус занятости)
- Редактировать контент сайта
- Рассылать рекламные письма подписчикам

Для открытия функционала рабочего персонала необходимо перейти по URL localhost:8000/users/, чтобы клиентам не мозолила глаза кнопочка в навигационном баре "Авторизация"

По умолчанию пользователи сайта поделены на 4 группы: администратор(admin), официант(waiter), контент-менеджер(contentmanager),
а также рекламный менеджер(promotioner). Каждая группа имеет ТОЛЬКО свой интерфейс, то есть например у официанта не будет доступа
к интерфейсу и функциям контент-менеджера и рекламного менеджера.

После авторизации у сотрудника дополняется навигационная панель, в зависимости от группы к которой принадлежит пользователь.

Также имеется ограничения на использования любого функционала сотрудников у не авторизированных пользователей.
 
Celery позволяет нам добавить следующий автоматический функционал:

- За час до начала брони отправляется предупредительное письмо на почту клиента (при небольшом капиталовложении можно сделать оповещение по SMS)
- Если бронь истекает, бронь удаляется, перед этим вся его информация сохраняется в папке logs/, а стол становится свободным

Гуманитарная часть, а именно - описание текста на главной странице, а также все изображения, были сгенерированы ИИ, для
экономии времени в той части, в которой работают дизайнеры.

Для быстрой проверки проекта имеется бэкап /fixtures/backup.json, для внедрения его в БД, используйте комманду
- python manage.py loaddata /fixtures/backup.json
Пароли от юзеров в бэкапе: 13799731

Есть следующие кастомные команды:
- python manage.py create_superuser - создание профиля суперюзера
- python manage.py create_worker - создание профиля сотрудника
- python manage.py create_groups - создание заранее задуманных групп для пользователей
- python manage.py create_group - создание одной группы для пользователей

Для работы celery запустите redis-server с портом по умолчанию (6379)

Для запуска celery, выполняющий главный функционал сайта, запустите следующие комманды:

- celery -A config worker -l INFO
- celery -A config beat -l INFO

Для быстрого запуска docker-compose:
- docker compose up -d --build 

Перечень переменных в .env содержится в dotenv-content.txt

Версия деплоя находится в ветке deployment
